{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport React, { Component, useState } from 'react';\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport * as WebBrowser from 'expo-web-browser';\nimport { ResponseType } from 'expo-auth-session';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, GoogleAuthProvider, signInWithCredential, signInWithPopup } from 'firebase/auth';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar AppButton = function AppButton(_ref) {\n  var onPress = _ref.onPress,\n      icon = _ref.icon,\n      title = _ref.title,\n      backgroundColor = _ref.backgroundColor,\n      styleBack = _ref.styleBack;\n  return _jsx(View, {\n    style: styles.appButtonContainer,\n    children: _jsx(Icon.Button, {\n      name: icon,\n      backgroundColor: backgroundColor,\n      onPress: onPress,\n      style: styleBack,\n      children: _jsx(Text, {\n        style: styles.appButtonText,\n        children: title\n      })\n    })\n  });\n};\n\nWebBrowser.maybeCompleteAuthSession();\nexport default function (_ref2) {\n  var navigation = _ref2.navigation;\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      accessToken = _React$useState2[0],\n      setAccessToken = _React$useState2[1];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      userInfo = _React$useState4[0],\n      setUserInfo = _React$useState4[1];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _Google$useIdTokenAut = Google.useIdTokenAuthRequest({\n    clientId: '227196084425-5e8po5oe7uoa5dk4staia1dgukmp58eq.apps.googleusercontent.com'\n  }),\n      _Google$useIdTokenAut2 = _slicedToArray(_Google$useIdTokenAut, 3),\n      request = _Google$useIdTokenAut2[0],\n      response = _Google$useIdTokenAut2[1],\n      promptAsync = _Google$useIdTokenAut2[2];\n\n  function GoogleLogin() {\n    var auth, provider;\n    return _regeneratorRuntime.async(function GoogleLogin$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            auth = getAuth();\n            provider = new GoogleAuthProvider();\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(signInWithPopup(auth, provider).then(function (result) {\n              var credential = GoogleAuthProvider.credentialFromResult(result);\n              var token = credential.accessToken;\n              var user = result.user;\n            }).catch(function (error) {\n              setLoading(false);\n              var errorCode = error.code;\n              var errorMessage = error.message;\n              var email = error.customData.email;\n              var credential = GoogleAuthProvider.credentialFromError(error);\n            }));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  React.useEffect(function () {\n    setLoading(true);\n\n    if ((response == null ? void 0 : response.type) === 'success') {\n      var id_token = response.params.id_token;\n      var auth = getAuth();\n      var provider = new GoogleAuthProvider();\n      var credential = provider.credential(id_token);\n      signInWithCredential(auth, credential);\n    }\n  }, [response]);\n  return _jsx(View, {\n    style: {\n      marginTop: 80\n    },\n    children: _jsxs(View, {\n      style: {\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: [_jsx(Image, {\n        resizeMode: \"contain\",\n        style: {\n          height: 250,\n          width: 290\n        },\n        source: require(\"../../../assets/splash.png\")\n      }), _jsxs(View, {\n        style: styles.screenContainer,\n        children: [_jsx(AppButton, {\n          icon: \"sign-in\",\n          title: \"Continue with Email\",\n          backgroundColor: \"#777\",\n          styleBack: styles.appButton,\n          onPress: function onPress() {\n            navigation.navigate(\"Register\");\n          }\n        }), _jsx(AppButton, {\n          icon: \"facebook\",\n          title: \"Continue with Facebook\",\n          backgroundColor: \"#3b5998\",\n          styleBack: styles.appButton2,\n          onPress: function onPress() {\n            navigation.navigate(\"Register\");\n          }\n        }), _jsx(AppButton, {\n          icon: \"google\",\n          title: \"Continue with Google\",\n          styleBack: styles.appButton3,\n          backgroundColor: \"#14191e\",\n          onPress: function onPress() {\n            GoogleLogin();\n          }\n        })]\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  screenContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 120\n  },\n  appButton: {\n    padding: 16,\n    paddingLeft: 70,\n    paddingRight: 70,\n    borderRadius: 20\n  },\n  appButton2: {\n    padding: 16,\n    paddingLeft: 60,\n    paddingRight: 60,\n    borderRadius: 20\n  },\n  appButton3: {\n    padding: 16,\n    paddingLeft: 65,\n    paddingRight: 65,\n    borderRadius: 20\n  },\n  appButtonText: {\n    fontSize: 15,\n    color: 'white'\n  },\n  appButtonContainer: {\n    paddingVertical: 10,\n    paddingHorizontal: 26\n  }\n});","map":{"version":3,"names":["React","Component","useState","Icon","WebBrowser","ResponseType","initializeApp","getAuth","GoogleAuthProvider","signInWithCredential","signInWithPopup","AppButton","onPress","icon","title","backgroundColor","styleBack","styles","appButtonContainer","appButtonText","maybeCompleteAuthSession","navigation","accessToken","setAccessToken","userInfo","setUserInfo","loading","setLoading","Google","useIdTokenAuthRequest","clientId","request","response","promptAsync","GoogleLogin","auth","provider","then","result","credential","credentialFromResult","token","user","catch","error","errorCode","code","errorMessage","message","email","customData","credentialFromError","useEffect","type","id_token","params","marginTop","flex","justifyContent","alignItems","height","width","require","screenContainer","appButton","navigate","appButton2","appButton3","StyleSheet","create","padding","paddingLeft","paddingRight","borderRadius","fontSize","color","paddingVertical","paddingHorizontal"],"sources":["/Users/tsari/Desktop/projects/mobile/Project/kidsland/src/screens/auth/Landing.js"],"sourcesContent":["import { Text, View, StyleSheet, Image, Button } from 'react-native'\nimport React, { Component, useState } from 'react';\n\nimport Icon from 'react-native-vector-icons/FontAwesome';\n// import { GoogleSignin } from '@react-native-google-signin/google-signin';\n// import * as Google from 'expo-google-app-auth';\nimport * as WebBrowser from 'expo-web-browser';\nimport { ResponseType } from 'expo-auth-session';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, GoogleAuthProvider, signInWithCredential, signInWithPopup } from 'firebase/auth';\n\nconst AppButton = ({ onPress, icon, title, backgroundColor, styleBack }) => (\n    <View style={styles.appButtonContainer}>\n      <Icon.Button\n        name={icon}\n        backgroundColor={backgroundColor}\n        onPress={onPress}\n        // style={styles.appButton}\n        style={styleBack}\n\n      >\n        <Text style={styles.appButtonText}>{title}</Text>\n      </Icon.Button>\n    </View>\n  );\n\nWebBrowser.maybeCompleteAuthSession();\n\nexport default function ({ navigation }) {\n    const [accessToken, setAccessToken] = React.useState();\n    const [userInfo, setUserInfo] = React.useState();\n    const [loading, setLoading] = useState(false);\n\n    const [request, response, promptAsync] = Google.useIdTokenAuthRequest(\n      {\n        clientId: '227196084425-5e8po5oe7uoa5dk4staia1dgukmp58eq.apps.googleusercontent.com',\n        },\n    );\n      \n    async function GoogleLogin() {\n      setLoading(true);\n      const auth = getAuth();\n      const provider = new GoogleAuthProvider();\n      await signInWithPopup(auth, provider)\n      .then((result) => {\n        // This gives you a Google Access Token. You can use it to access the Google API.\n        const credential = GoogleAuthProvider.credentialFromResult(result);\n        const token = credential.accessToken;\n        // The signed-in user info.\n        const user = result.user;\n        // ...\n      }).catch((error) => {\n        setLoading(false);\n        // Handle Errors here.\n        const errorCode = error.code;\n        const errorMessage = error.message;\n        // The email of the user's account used.\n        const email = error.customData.email;\n        // The AuthCredential type that was used.\n        const credential = GoogleAuthProvider.credentialFromError(error);\n        // ...\n      });\n    }\n    \n\n    React.useEffect(() => {\n      setLoading(true);\n      if (response?.type === 'success') {\n        const { id_token } = response.params;\n        \n        const auth = getAuth();\n        const provider = new GoogleAuthProvider();\n        const credential = provider.credential(id_token);\n        signInWithCredential(auth, credential);\n      }\n    }, [response]);\n  \n\n\n  \n\n    return (\n      <View\n        style={{ \n            marginTop: 80,\n        }}\n      >\n        <View\n             style={{ \n                flex: 1,\n                justifyContent: \"center\",\n                alignItems: \"center\"\n            }}\n        >\n        <Image\n              resizeMode=\"contain\"\n              style={{\n                height: 250,\n                width: 290,\n              }}\n              source={require(\"../../../assets/splash.png\")}\n            />\n        {/* <View\n            style={{ \n                flex: 1,\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                marginTop: 200\n            }}\n        > */}\n        <View style={styles.screenContainer}>\n            <AppButton \n              icon=\"sign-in\" \n              title=\"Continue with Email\" \n              backgroundColor=\"#777\"\n              styleBack={styles.appButton} \n              onPress={() => { navigation.navigate(\"Register\");}}/>\n            <AppButton \n              icon=\"facebook\" \n              title=\"Continue with Facebook\" \n              backgroundColor=\"#3b5998\"\n              styleBack={styles.appButton2} \n              onPress={() => { navigation.navigate(\"Register\");}}/>\n            <AppButton \n                icon=\"google\" \n                title=\"Continue with Google\" \n                styleBack={styles.appButton3}\n                backgroundColor=\"#14191e\" onPress={\n                  () => {\n                    GoogleLogin()\n                  }\n                }/>\n        </View>\n            \n        </View>\n        </View>\n      // </View>\n    )\n}\n\n\nconst styles = StyleSheet.create({\n    screenContainer: {\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        marginTop: 120\n      },\n      appButton: {\n        padding: 16,\n        paddingLeft: 70,\n        paddingRight: 70,\n        borderRadius: 20,\n      },\n      appButton2: {\n        padding: 16,\n        paddingLeft: 60,\n        paddingRight: 60,\n        borderRadius: 20,\n      },\n      appButton3: {\n        padding: 16,\n        paddingLeft: 65,\n        paddingRight: 65,\n        borderRadius: 20,\n      },\n      appButtonText: {\n        fontSize: 15,\n        color: 'white'\n      },\n      appButtonContainer: {\n        paddingVertical: 10,\n        paddingHorizontal: 26,\n      },\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}