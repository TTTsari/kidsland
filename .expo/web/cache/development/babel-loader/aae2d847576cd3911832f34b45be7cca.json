{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useState, useEffect } from \"react\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar AuthContext = createContext();\n\nvar AuthProvider = function AuthProvider(props) {\n  var auth = getAuth();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  useEffect(function () {\n    checkLogin();\n  }, []);\n\n  function checkLogin() {\n    onAuthStateChanged(auth, function (u) {\n      if (u) {\n        setUser(true);\n      } else {\n        setUser(false);\n      }\n    });\n  }\n\n  return _jsx(AuthContext.Provider, {\n    value: {\n      user: user\n    },\n    children: props.children\n  });\n};\n\nexport { AuthContext, AuthProvider };","map":{"version":3,"names":["React","createContext","useState","useEffect","getAuth","onAuthStateChanged","AuthContext","AuthProvider","props","auth","user","setUser","checkLogin","u","children"],"sources":["C:/Users/MM/OneDrive/Desktop/Project/enkun/mobile/project/react-native-expo-template/template-with-firebase-auth-flow/src/provider/AuthProvider.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\r\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\r\n\r\nconst AuthContext = createContext();\r\nconst AuthProvider = (props) => {\r\n  const auth = getAuth();\r\n  // user null = loading\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    checkLogin();\r\n  }, []);\r\n\r\n  function checkLogin() {\r\n    onAuthStateChanged(auth, (u) => {\r\n      if (u) {\r\n        setUser(true);\r\n        // getUserData();\r\n      } else {\r\n        setUser(false);\r\n        // setUserData(null);\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport { AuthContext, AuthProvider };\r\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,EAAyCC,SAAzC,QAA0D,OAA1D;AACA,SAASC,OAAT,EAAkBC,kBAAlB,QAA4C,eAA5C;;AAEA,IAAMC,WAAW,GAAGL,aAAa,EAAjC;;AACA,IAAMM,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;EAC9B,IAAMC,IAAI,GAAGL,OAAO,EAApB;;EAEA,gBAAwBF,QAAQ,CAAC,IAAD,CAAhC;EAAA;EAAA,IAAOQ,IAAP;EAAA,IAAaC,OAAb;;EAEAR,SAAS,CAAC,YAAM;IACdS,UAAU;EACX,CAFQ,EAEN,EAFM,CAAT;;EAIA,SAASA,UAAT,GAAsB;IACpBP,kBAAkB,CAACI,IAAD,EAAO,UAACI,CAAD,EAAO;MAC9B,IAAIA,CAAJ,EAAO;QACLF,OAAO,CAAC,IAAD,CAAP;MAED,CAHD,MAGO;QACLA,OAAO,CAAC,KAAD,CAAP;MAED;IACF,CARiB,CAAlB;EASD;;EAED,OACE,KAAC,WAAD,CAAa,QAAb;IACE,KAAK,EAAE;MACLD,IAAI,EAAJA;IADK,CADT;IAAA,UAKGF,KAAK,CAACM;EALT,EADF;AASD,CA9BD;;AAgCA,SAASR,WAAT,EAAsBC,YAAtB"},"metadata":{},"sourceType":"module"}